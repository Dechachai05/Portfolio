<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Dechachai Portfolio</title>
<style>
  body {
    margin: 0;
    background-color: black;
    color: white;
    font-family: 'Courier New', monospace;
    overflow: hidden;
  }

  #intro {
    position: fixed;
    inset: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: black;
    transition: opacity 1s ease;
    z-index: 10;
  }

  .intro-box {
    border: 2px solid white;
    padding: 30px 50px;
    text-align: center;
    animation: fadeInUp 1s ease;
    min-width: 300px;
  }

  #introText {
    font-size: 0.95rem;
    margin-bottom: 15px;
    letter-spacing: 0.5px;
    white-space: pre-line;
    min-height: 3em;
  }

  .start-btn {
    background: transparent;
    color: white;
    border: 2px solid white;
    padding: 6px 18px;
    cursor: pointer;
    font-size: 0.9rem;
    transition: all 0.3s ease;
    opacity: 0;
    pointer-events: none;
  }

  .start-btn.show {
    opacity: 1;
    pointer-events: auto;
    transition: opacity 0.5s ease;
  }

  .start-btn:hover {
    background-color: white;
    color: black;
  }

  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  #intro.fade-out {
    opacity: 0;
    pointer-events: none;
  }
</style>
</head>
<body>
<div id="intro">
  <div class="intro-box">
    <p id="introText"></p>
    <button class="start-btn">START</button>
  </div>
</div>

<script type="module">
import * as THREE from 'https://unpkg.com/three@0.160.0/build/three.module.js';

// --- Three.js Scene ---
const scene = new THREE.Scene();
scene.background = new THREE.Color(0x000000); // สีพื้นหลังดำ

const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
camera.position.set(5,5,5);
camera.lookAt(0,0,0);

const renderer = new THREE.WebGLRenderer({ antialias: true });
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

function animate() {
  requestAnimationFrame(animate);
  renderer.render(scene, camera);
}
animate();

window.addEventListener('resize', () => {
  camera.aspect = window.innerWidth / window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth, window.innerHeight);
});

// --- Intro typing effect ---
const introText = document.getElementById('introText');
const startBtn = document.querySelector('.start-btn');
const intro = document.getElementById('intro');

const textContent = "Dechachai Kaewkalong Portfolio\nClick START to begin";
let index = 0;

function typeWriter() {
  if(index < textContent.length){
    introText.textContent += textContent.charAt(index);
    index++;
    setTimeout(typeWriter, 40);
  } else {
    setTimeout(()=> startBtn.classList.add('show'), 300);
  }
}

typeWriter();
  
// --- START button ไป portfolio.html ---
startBtn.addEventListener('click', () => {
  intro.classList.add('fade-out');
  setTimeout(() => {
    window.location.href = 'portfolio.html';
  }, 1000);
});
</script>
</body>
</html>
